const u="https://andrewebtech.debuas.de";async function l(t,s="GET",r,a){const i=d(t),n={method:s,headers:{"Content-Type":"application/json",...a}};r&&(n.body=JSON.stringify(r));try{const e=await fetch(i,n);if(!e.ok){const p=await e.text();throw new Error(`HTTP error! status: ${e.status}, message: ${p}`)}const o=e.headers.get("Content-Type");let c;return o!=null&&o.includes("application/json")?c=await e.json():o!=null&&o.includes("text/plain")?c=await e.text():c=await e.text(),{data:c,status:e.status}}catch(e){throw console.error("API call failed:",e),e}}const f={get:t=>l(t),post:(t,s)=>l(t,"POST",s),put:(t,s)=>l(t,"PUT",s),delete:t=>l(t,"DELETE")};async function w(t,s,r){const a=new XMLHttpRequest,i=n=>n>=200&&n<300;return new Promise((n,e)=>{a.open("POST",`${u}${t}`),a.upload.onprogress=o=>{if(o.lengthComputable&&r){const c=Math.round(o.loaded/o.total*100);r(c)}},a.onload=()=>{i(a.status)?n({data:JSON.parse(a.responseText),status:a.status}):e(new Error(`HTTP error! status: ${a.status}`))},a.onerror=()=>{e(new Error("Network error"))},a.send(s)})}const g={projects:"/projects",specificProject:t=>`/projects/${t}`,createLongExposureImage:t=>`/projects/${t}/createLongExposureImage`,frameThumbnail:(t,s)=>`/outputs/${t}/frames/ffout_thumbnail_${s.toString().padStart(4,"0")}.webp`,videoFile:(t,s)=>`/uploads/${t}.${s}`},d=t=>`${u}${t}`,h=(t,s)=>{const r=t.__vccOpts||t;for(const[a,i]of s)r[a]=i;return r};export{h as _,f as a,g as e,d as g,w as u};
