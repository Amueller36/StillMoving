import{B as Pt,a as Ot,C as Dt,D as Et,E as Rt,b as jt,c as Vt,F as Fe,K as Ct,R as At,S as Tt,d as _t,T as Bt,e as Mt,f as It,g as Nt,h as Ft,i as zt,V as Lt,j as Ut,k as $t,l as Ht,m as Wt,n as Gt,o as qt,p as Xt,q as ze,r as Kt,s as Yt,t as ne,u as U,v as T,w as Zt,x as Jt,y as Qt,z as er,A as tr,G as rr,H as me,I as ce,J as or,L as nr,M as ye,N as ar,O as ir,P as sr,Q as lr,U as ur,W as cr,X as dr,Y as fr,Z as pr,_ as hr,$ as mr,a0 as vr,a1 as yr,a2 as br,a3 as gr,a4 as kr,a5 as xr,a6 as Sr,a7 as wr,a8 as Pr,a9 as Or,aa as Dr,ab as Er,ac as Rr,ad as jr,ae as Vr,af as Cr,ag as Ar,ah as Tr,ai as _r,aj as Br,ak as Mr,al as Ir,am as Nr,an as Fr,ao as Le,ap as zr,aq as Ue,ar as Lr,as as Ur,at as $r,au as Hr,av as Wr,aw as Gr,ax as De,ay as qr,az as Xr,aA as Kr,aB as Yr,aC as Zr,aD as Jr,aE as $,aF as Ee,aG as Qr,aH as eo,aI as Re,aJ as to,aK as ro,aL as oo,aM as M,aN as no,aO as ao,aP as $e,aQ as io,aR as He,aS as so,aT as lo,aU as uo,aV as co,aW as fo,aX as po,aY as ho,aZ as mo,a_ as vo,a$ as yo,b0 as bo,b1 as go,b2 as ko,b3 as oe,b4 as xo,b5 as So,b6 as wo,b7 as Po,b8 as Oo,b9 as Do,ba as Eo,bb as Ro,bc as We,bd as jo,be as Vo,bf as Co,bg as Ao,bh as To,bi as _o,bj as Bo,bk as Mo,bl as Io,bm as No,bn as Fo,bo as de,bp as zo,bq as Lo,br as Uo,bs as pe,bt as $o,bu as Ho,bv as Wo,bw as Go,bx as Ge,by as qo,bz as fe,bA as Xo,bB as Ko,bC as ve,bD as Yo}from"./index-C9T5C06N.js";import{_ as je,g as qe,e as ue,a as Ne,u as Zo}from"./_plugin-vue_export-helper-DVzB71Fy.js";/**
* vue v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Jo=()=>{},Qo=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Pt,BaseTransitionPropsValidators:Ot,Comment:Dt,DeprecationTypes:Et,EffectScope:Rt,ErrorCodes:jt,ErrorTypeStrings:Vt,Fragment:Fe,KeepAlive:Ct,ReactiveEffect:At,Static:Tt,Suspense:_t,Teleport:Bt,Text:Mt,TrackOpTypes:It,Transition:Nt,TransitionGroup:Ft,TriggerOpTypes:zt,VueElement:Lt,assertNumber:Ut,callWithAsyncErrorHandling:$t,callWithErrorHandling:Ht,camelize:Wt,capitalize:Gt,cloneVNode:qt,compatUtils:Xt,compile:Jo,computed:ze,createApp:Kt,createBlock:Yt,createCommentVNode:ne,createElementBlock:U,createElementVNode:T,createHydrationRenderer:Zt,createPropsRestProxy:Jt,createRenderer:Qt,createSSRApp:er,createSlots:tr,createStaticVNode:rr,createTextVNode:me,createVNode:ce,customRef:or,defineAsyncComponent:nr,defineComponent:ye,defineCustomElement:ar,defineEmits:ir,defineExpose:sr,defineModel:lr,defineOptions:ur,defineProps:cr,defineSSRCustomElement:dr,defineSlots:fr,devtools:pr,effect:hr,effectScope:mr,getCurrentInstance:vr,getCurrentScope:yr,getTransitionRawChildren:br,guardReactiveProps:gr,h:kr,handleError:xr,hasInjectionContext:Sr,hydrate:wr,initCustomFormatter:Pr,initDirectivesForSSR:Or,inject:Dr,isMemoSame:Er,isProxy:Rr,isReactive:jr,isReadonly:Vr,isRef:Cr,isRuntimeOnly:Ar,isShallow:Tr,isVNode:_r,markRaw:Br,mergeDefaults:Mr,mergeModels:Ir,mergeProps:Nr,nextTick:Fr,normalizeClass:Le,normalizeProps:zr,normalizeStyle:Ue,onActivated:Lr,onBeforeMount:Ur,onBeforeUnmount:$r,onBeforeUpdate:Hr,onDeactivated:Wr,onErrorCaptured:Gr,onMounted:De,onRenderTracked:qr,onRenderTriggered:Xr,onScopeDispose:Kr,onServerPrefetch:Yr,onUnmounted:Zr,onUpdated:Jr,openBlock:$,popScopeId:Ee,provide:Qr,proxyRefs:eo,pushScopeId:Re,queuePostFlushCb:to,reactive:ro,readonly:oo,ref:M,registerRuntimeCompiler:no,render:ao,renderList:$e,renderSlot:io,resolveComponent:He,resolveDirective:so,resolveDynamicComponent:lo,resolveFilter:uo,resolveTransitionHooks:co,setBlockTracking:fo,setDevtoolsHook:po,setTransitionHooks:ho,shallowReactive:mo,shallowReadonly:vo,shallowRef:yo,ssrContextKey:bo,ssrUtils:go,stop:ko,toDisplayString:oe,toHandlerKey:xo,toHandlers:So,toRaw:wo,toRef:Po,toRefs:Oo,toValue:Do,transformVNodeArgs:Eo,triggerRef:Ro,unref:We,useAttrs:jo,useCssModule:Vo,useCssVars:Co,useModel:Ao,useSSRContext:To,useSlots:_o,useTransitionState:Bo,vModelCheckbox:Mo,vModelDynamic:Io,vModelRadio:No,vModelSelect:Fo,vModelText:de,vShow:zo,version:Lo,warn:Uo,watch:pe,watchEffect:$o,watchPostEffect:Ho,watchSyncEffect:Wo,withAsyncContext:Go,withCtx:Ge,withDefaults:qo,withDirectives:fe,withKeys:Xo,withMemo:Ko,withModifiers:ve,withScopeId:Yo},Symbol.toStringTag,{value:"Module"})),en=["src"],tn=ye({__name:"VideoPlayer",props:{src:{},videoCurrentPlaybackTime:{}},emits:["durationChange"],setup(R,{emit:te}){const p=R,_=te,j=M(null);return pe(()=>p.src,y=>{j.value&&(j.value.src=y)}),pe(()=>p.videoCurrentPlaybackTime,y=>{j.value&&(j.value.currentTime=y)}),De(()=>{j.value&&j.value.addEventListener("loadedmetadata",()=>{var y;_("durationChange",Math.floor(((y=j.value)==null?void 0:y.duration)||0))})}),(y,J)=>($(),U("video",{ref_key:"videoPlayer",ref:j,controls:""},[T("source",{src:y.src,type:"video/mp4"},null,8,en)],512))}}),rn=je(tn,[["__scopeId","data-v-eab78b47"]]);var on=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nn(R){return R&&R.__esModule&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R}function an(R){if(R.__esModule)return R;var te=R.default;if(typeof te=="function"){var p=function _(){return this instanceof _?Reflect.construct(te,arguments,this.constructor):te.apply(this,arguments)};p.prototype=te.prototype}else p={};return Object.defineProperty(p,"__esModule",{value:!0}),Object.keys(R).forEach(function(_){var j=Object.getOwnPropertyDescriptor(R,_);Object.defineProperty(p,_,j.get?j:{enumerable:!0,get:function(){return R[_]}})}),p}var Xe={exports:{}};const sn=an(Qo);(function(R,te){(function(p,_){R.exports=_(sn)})(typeof self<"u"?self:on,function(p){return function(){var _={679:function(u,m){var l,n,f;(function(g,P){n=[],l=P,f=typeof l=="function"?l.apply(m,n):l,f===void 0||(u.exports=f)})(typeof self<"u"&&self,function(){function g(){var P=Object.getOwnPropertyDescriptor(document,"currentScript");if(!P&&"currentScript"in document&&document.currentScript||P&&P.get!==g&&document.currentScript)return document.currentScript;try{throw new Error}catch(c){var E,F,V,Z=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,H=/@([^@]*):(\d+):(\d+)\s*$/gi,S=Z.exec(c.stack)||H.exec(c.stack),Y=S&&S[1]||!1,ae=S&&S[2]||!1,G=document.location.href.replace(document.location.hash,""),v=document.getElementsByTagName("script");Y===G&&(E=document.documentElement.outerHTML,F=new RegExp("(?:[^\\n]+?\\n){0,"+(ae-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),V=E.replace(F,"$1").trim());for(var s=0;s<v.length;s++)if(v[s].readyState==="interactive"||v[s].src===Y||Y===G&&v[s].innerHTML&&v[s].innerHTML.trim()===V)return v[s];return null}}return g})},564:function(u,m,l){l.r(m);var n=l(481),f=l.n(n),g=l(400),P=l.n(g),E=P()(f());E.push([u.id,".vue-slider-dot{position:absolute;-webkit-transition:all 0s;transition:all 0s;z-index:5}.vue-slider-dot:focus{outline:none}.vue-slider-dot-tooltip{position:absolute;visibility:hidden}.vue-slider-dot-hover:hover .vue-slider-dot-tooltip,.vue-slider-dot-tooltip-show{visibility:visible}.vue-slider-dot-tooltip-top{top:-10px;left:50%;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}.vue-slider-dot-tooltip-bottom{bottom:-10px;left:50%;-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}.vue-slider-dot-tooltip-left{left:-10px;top:50%;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%)}.vue-slider-dot-tooltip-right{right:-10px;top:50%;-webkit-transform:translate(100%,-50%);transform:translate(100%,-50%)}",""]),m.default=E},87:function(u,m,l){l.r(m);var n=l(481),f=l.n(n),g=l(400),P=l.n(g),E=P()(f());E.push([u.id,".vue-slider-marks{position:relative;width:100%;height:100%}.vue-slider-mark{position:absolute;z-index:1}.vue-slider-ltr .vue-slider-mark,.vue-slider-rtl .vue-slider-mark{width:0;height:100%;top:50%}.vue-slider-ltr .vue-slider-mark-step,.vue-slider-rtl .vue-slider-mark-step{top:0}.vue-slider-ltr .vue-slider-mark-label,.vue-slider-rtl .vue-slider-mark-label{top:100%;margin-top:10px}.vue-slider-ltr .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ltr .vue-slider-mark-step{left:0}.vue-slider-ltr .vue-slider-mark-label{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.vue-slider-rtl .vue-slider-mark{-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}.vue-slider-rtl .vue-slider-mark-step{right:0}.vue-slider-rtl .vue-slider-mark-label{right:50%;-webkit-transform:translateX(50%);transform:translateX(50%)}.vue-slider-btt .vue-slider-mark,.vue-slider-ttb .vue-slider-mark{width:100%;height:0;left:50%}.vue-slider-btt .vue-slider-mark-step,.vue-slider-ttb .vue-slider-mark-step{left:0}.vue-slider-btt .vue-slider-mark-label,.vue-slider-ttb .vue-slider-mark-label{left:100%;margin-left:10px}.vue-slider-btt .vue-slider-mark{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}.vue-slider-btt .vue-slider-mark-step{top:0}.vue-slider-btt .vue-slider-mark-label{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.vue-slider-ttb .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ttb .vue-slider-mark-step{bottom:0}.vue-slider-ttb .vue-slider-mark-label{bottom:50%;-webkit-transform:translateY(50%);transform:translateY(50%)}.vue-slider-mark-label,.vue-slider-mark-step{position:absolute}",""]),m.default=E},956:function(u,m,l){l.r(m);var n=l(481),f=l.n(n),g=l(400),P=l.n(g),E=P()(f());E.push([u.id,".vue-slider{position:relative;-webkit-box-sizing:content-box;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.vue-slider-rail{position:relative;width:100%;height:100%;-webkit-transition-property:width,height,left,right,top,bottom;transition-property:width,height,left,right,top,bottom}.vue-slider-process{position:absolute;z-index:1}",""]),m.default=E},637:function(u,m,l){l.r(m);var n=l(481),f=l.n(n),g=l(400),P=l.n(g),E=P()(f());E.push([u.id,'.vue-slider-disabled{opacity:.5;cursor:not-allowed}.vue-slider-rail{background-color:#ccc;border-radius:15px}.vue-slider-process{background-color:#3498db;border-radius:15px}.vue-slider-mark{z-index:4}.vue-slider-mark:first-child .vue-slider-mark-step,.vue-slider-mark:last-child .vue-slider-mark-step{display:none}.vue-slider-mark-step{width:100%;height:100%;border-radius:50%;background-color:rgba(0,0,0,.16)}.vue-slider-mark-label{font-size:14px;white-space:nowrap}.vue-slider-dot-handle{cursor:pointer;width:100%;height:100%;border-radius:50%;background-color:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:.5px .5px 2px 1px rgba(0,0,0,.32);box-shadow:.5px .5px 2px 1px rgba(0,0,0,.32)}.vue-slider-dot-handle-focus{-webkit-box-shadow:0 0 1px 2px rgba(52,152,219,.36);box-shadow:0 0 1px 2px rgba(52,152,219,.36)}.vue-slider-dot-handle-disabled{cursor:not-allowed;background-color:#ccc}.vue-slider-dot-tooltip-inner{font-size:14px;white-space:nowrap;padding:2px 5px;min-width:20px;text-align:center;color:#fff;border-radius:5px;border-color:#3498db;background-color:#3498db;-webkit-box-sizing:content-box;box-sizing:content-box}.vue-slider-dot-tooltip-inner:after{content:"";position:absolute}.vue-slider-dot-tooltip-inner-top:after{top:100%;border-color:transparent;border-style:solid;border-width:5px;border-top-color:inherit}.vue-slider-dot-tooltip-inner-bottom:after,.vue-slider-dot-tooltip-inner-top:after{left:50%;-webkit-transform:translate(-50%);transform:translate(-50%);height:0;width:0}.vue-slider-dot-tooltip-inner-bottom:after{bottom:100%;border-color:transparent;border-style:solid;border-width:5px;border-bottom-color:inherit}.vue-slider-dot-tooltip-inner-left:after{left:100%;border-color:transparent;border-style:solid;border-width:5px;border-left-color:inherit}.vue-slider-dot-tooltip-inner-left:after,.vue-slider-dot-tooltip-inner-right:after{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);height:0;width:0}.vue-slider-dot-tooltip-inner-right:after{right:100%;border-color:transparent;border-style:solid;border-width:5px;border-right-color:inherit}.vue-slider-dot-tooltip-wrapper{opacity:0;-webkit-transition:all .3s;transition:all .3s}.vue-slider-dot-tooltip-wrapper-show{opacity:1}',""]),m.default=E},400:function(u){u.exports=function(m){var l=[];return l.toString=function(){return this.map(function(n){var f="",g=typeof n[5]<"u";return n[4]&&(f+="@supports (".concat(n[4],") {")),n[2]&&(f+="@media ".concat(n[2]," {")),g&&(f+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),f+=m(n),g&&(f+="}"),n[2]&&(f+="}"),n[4]&&(f+="}"),f}).join("")},l.i=function(n,f,g,P,E){typeof n=="string"&&(n=[[null,n,void 0]]);var F={};if(g)for(var V=0;V<this.length;V++){var Z=this[V][0];Z!=null&&(F[Z]=!0)}for(var H=0;H<n.length;H++){var S=[].concat(n[H]);g&&F[S[0]]||(typeof E<"u"&&(typeof S[5]>"u"||(S[1]="@layer".concat(S[5].length>0?" ".concat(S[5]):""," {").concat(S[1],"}")),S[5]=E),f&&(S[2]&&(S[1]="@media ".concat(S[2]," {").concat(S[1],"}")),S[2]=f),P&&(S[4]?(S[1]="@supports (".concat(S[4],") {").concat(S[1],"}"),S[4]=P):S[4]="".concat(P)),l.push(S))}},l}},481:function(u){u.exports=function(m){return m[1]}},118:function(u,m){m.Z=(l,n)=>{const f=l.__vccOpts||l;for(const[g,P]of n)f[g]=P;return f}},619:function(u,m,l){var n=l(564);n.__esModule&&(n=n.default),typeof n=="string"&&(n=[[u.id,n,""]]),n.locals&&(u.exports=n.locals);var f=l(402).Z;f("3b6bea06",n,!0,{sourceMap:!1,shadowMode:!1})},642:function(u,m,l){var n=l(87);n.__esModule&&(n=n.default),typeof n=="string"&&(n=[[u.id,n,""]]),n.locals&&(u.exports=n.locals);var f=l(402).Z;f("2437e59a",n,!0,{sourceMap:!1,shadowMode:!1})},362:function(u,m,l){var n=l(956);n.__esModule&&(n=n.default),typeof n=="string"&&(n=[[u.id,n,""]]),n.locals&&(u.exports=n.locals);var f=l(402).Z;f("b79867cc",n,!0,{sourceMap:!1,shadowMode:!1})},112:function(u,m,l){var n=l(637);n.__esModule&&(n=n.default),typeof n=="string"&&(n=[[u.id,n,""]]),n.locals&&(u.exports=n.locals);var f=l(402).Z;f("dd2f8794",n,!0,{sourceMap:!1,shadowMode:!1})},402:function(u,m,l){function n(h,O){for(var D=[],w={},k=0;k<O.length;k++){var B=O[k],W=B[0],Q=B[1],ee=B[2],A=B[3],z={id:h+":"+k,css:Q,media:ee,sourceMap:A};w[W]?w[W].parts.push(z):D.push(w[W]={id:W,parts:[z]})}return D}l.d(m,{Z:function(){return ae}});var f=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!f)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var g={},P=f&&(document.head||document.getElementsByTagName("head")[0]),E=null,F=0,V=!1,Z=function(){},H=null,S="data-vue-ssr-id",Y=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function ae(h,O,D,w){V=D,H=w||{};var k=n(h,O);return G(k),function(B){for(var W=[],Q=0;Q<k.length;Q++){var ee=k[Q],A=g[ee.id];A.refs--,W.push(A)}for(B?(k=n(h,B),G(k)):k=[],Q=0;Q<W.length;Q++)if(A=W[Q],A.refs===0){for(var z=0;z<A.parts.length;z++)A.parts[z]();delete g[A.id]}}}function G(h){for(var O=0;O<h.length;O++){var D=h[O],w=g[D.id];if(w){w.refs++;for(var k=0;k<w.parts.length;k++)w.parts[k](D.parts[k]);for(;k<D.parts.length;k++)w.parts.push(s(D.parts[k]));w.parts.length>D.parts.length&&(w.parts.length=D.parts.length)}else{var B=[];for(k=0;k<D.parts.length;k++)B.push(s(D.parts[k]));g[D.id]={id:D.id,refs:1,parts:B}}}}function v(){var h=document.createElement("style");return h.type="text/css",P.appendChild(h),h}function s(h){var O,D,w=document.querySelector("style["+S+'~="'+h.id+'"]');if(w){if(V)return Z;w.parentNode.removeChild(w)}if(Y){var k=F++;w=E||(E=v()),O=d.bind(null,w,k,!1),D=d.bind(null,w,k,!0)}else w=v(),O=I.bind(null,w),D=function(){w.parentNode.removeChild(w)};return O(h),function(B){if(B){if(B.css===h.css&&B.media===h.media&&B.sourceMap===h.sourceMap)return;O(h=B)}else D()}}var c=function(){var h=[];return function(O,D){return h[O]=D,h.filter(Boolean).join(`
`)}}();function d(h,O,D,w){var k=D?"":w.css;if(h.styleSheet)h.styleSheet.cssText=c(O,k);else{var B=document.createTextNode(k),W=h.childNodes;W[O]&&h.removeChild(W[O]),W.length?h.insertBefore(B,W[O]):h.appendChild(B)}}function I(h,O){var D=O.css,w=O.media,k=O.sourceMap;if(w&&h.setAttribute("media",w),H.ssrId&&h.setAttribute(S,O.id),k&&(D+=`
/*# sourceURL=`+k.sources[0]+" */",D+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(k))))+" */"),h.styleSheet)h.styleSheet.cssText=D;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(D))}}},203:function(u){u.exports=p}},j={};function y(u){var m=j[u];if(m!==void 0)return m.exports;var l=j[u]={id:u,exports:{}};return _[u].call(l.exports,l,l.exports,y),l.exports}(function(){y.n=function(u){var m=u&&u.__esModule?function(){return u.default}:function(){return u};return y.d(m,{a:m}),m}})(),function(){y.d=function(u,m){for(var l in m)y.o(m,l)&&!y.o(u,l)&&Object.defineProperty(u,l,{enumerable:!0,get:m[l]})}}(),function(){y.o=function(u,m){return Object.prototype.hasOwnProperty.call(u,m)}}(),function(){y.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}}(),function(){y.p=""}();var J={};return function(){if(y.r(J),y.d(J,{ERROR_TYPE:function(){return A},VueSliderDot:function(){return G},VueSliderMark:function(){return I},default:function(){return kt}}),typeof window<"u"){var u=window.document.currentScript,m=y(679);u=m(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:m});var l=u&&u.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);l&&(y.p=l[1])}var n=y(203);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,o)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f(Object(r),!0).forEach(function(o){P(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function P(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var E={key:0,class:"vue-slider-marks"};function F(t,e,r,o,i,a){var b=this,L=(0,n.resolveComponent)("VueSliderMark"),q=(0,n.resolveComponent)("VueSliderDot");return(0,n.openBlock)(),(0,n.createElementBlock)("div",(0,n.mergeProps)({ref:"container",class:a.containerClasses,style:a.containerStyles,onClick:e[0]||(e[0]=function(){return a.clickHandle&&a.clickHandle.apply(a,arguments)}),onTouchstartPassive:e[1]||(e[1]=function(){return a.dragStartOnProcess&&a.dragStartOnProcess.apply(a,arguments)}),onMousedown:e[2]||(e[2]=function(){return a.dragStartOnProcess&&a.dragStartOnProcess.apply(a,arguments)})},t.$attrs),[(0,n.createElementVNode)("div",{ref:"rail",class:"vue-slider-rail",style:(0,n.normalizeStyle)(r.railStyle)},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(a.processArray,function(x,X){return(0,n.renderSlot)(t.$slots,"process",(0,n.normalizeProps)((0,n.guardReactiveProps)(g({},x))),function(){return[((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"vue-slider-process",key:"process-".concat(X),style:(0,n.normalizeStyle)(x.style)},null,4))]})}),256)),a.sliderMarks?((0,n.openBlock)(),(0,n.createElementBlock)("div",E,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(i.control.markList,function(x,X){return(0,n.renderSlot)(t.$slots,"mark",(0,n.normalizeProps)((0,n.guardReactiveProps)(g({},x))),function(){var K;return[((0,n.openBlock)(),(0,n.createBlock)(L,{key:"mark-".concat(X),mark:x,hideLabel:r.hideLabel,style:(0,n.normalizeStyle)((K={},P(K,a.isHorizontal?"height":"width","100%"),P(K,a.isHorizontal?"width":"height",a.tailSize),P(K,a.mainDirection,"".concat(x.pos,"%")),K)),stepStyle:r.stepStyle,stepActiveStyle:r.stepActiveStyle,labelStyle:r.labelStyle,labelActiveStyle:r.labelActiveStyle,onPressLabel:function(Oe){return r.clickable&&a.setValueByPos(Oe)}},{step:(0,n.withCtx)(function(){return[(0,n.renderSlot)(t.$slots,"step",(0,n.normalizeProps)((0,n.guardReactiveProps)(g({},x))))]}),label:(0,n.withCtx)(function(){return[(0,n.renderSlot)(t.$slots,"label",(0,n.normalizeProps)((0,n.guardReactiveProps)(g({},x))))]}),_:2},1032,["mark","hideLabel","style","stepStyle","stepActiveStyle","labelStyle","labelActiveStyle","onPressLabel"]))]})}),256))])):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(a.dots,function(x,X){var K;return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(q,(0,n.mergeProps)({ref_for:!0,ref:"dot-".concat(X),value:x.value,disabled:x.disabled,focus:x.focus,"dot-style":[x.style,x.disabled?x.disabledStyle:null,x.focus?x.focusStyle:null],tooltip:x.tooltip||r.tooltip,"tooltip-style":[r.tooltipStyle,x.tooltipStyle,x.disabled?x.tooltipDisabledStyle:null,x.focus?x.tooltipFocusStyle:null],"tooltip-formatter":Array.isArray(a.sliderTooltipFormatter)?a.sliderTooltipFormatter[X]:a.sliderTooltipFormatter,"tooltip-placement":a.tooltipDirections[X],style:[a.dotBaseStyle,(K={},P(K,a.mainDirection,"".concat(x.pos,"%")),P(K,"transition","".concat(a.mainDirection," ").concat(a.animateTime,"s")),K)],"onDrag-start":function(){return a.dragStart(X)},role:"slider","aria-valuenow":"dot.value","aria-valuemin":"this.min","aria-valuemax":"this.max","aria-orientation":b.isHorizontal?"horizontal":"vertical",tabindex:"0",nativeOnFocus:function(){return!x.disabled&&a.focus(X)},nativeOnBlur:function(){return a.blur()}},g({},r.dotAttrs)),{dot:(0,n.withCtx)(function(){return[(0,n.renderSlot)(t.$slots,"dot",(0,n.normalizeProps)((0,n.guardReactiveProps)(g({},x))))]}),tooltip:(0,n.withCtx)(function(){return[(0,n.renderSlot)(t.$slots,"tooltip",(0,n.normalizeProps)((0,n.guardReactiveProps)(g({},x))))]}),_:2},1040,["value","disabled","focus","dot-style","tooltip","tooltip-style","tooltip-formatter","tooltip-placement","style","onDrag-start","aria-orientation","nativeOnFocus","nativeOnBlur"]),(0,n.renderSlot)(t.$slots,"default",(0,n.normalizeProps)((0,n.guardReactiveProps)({value:a.getValue()})))],64)}),256))],4)],16)}var V=["aria-valuetext"],Z={class:"vue-slider-dot-tooltip-text"};function H(t,e,r,o,i,a){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{ref:"dot",class:(0,n.normalizeClass)(a.dotClasses),"aria-valuetext":a.tooltipValue,onMousedown:e[0]||(e[0]=function(){return a.dragStart&&a.dragStart.apply(a,arguments)}),onTouchstartPassive:e[1]||(e[1]=function(){return a.dragStart&&a.dragStart.apply(a,arguments)})},[(0,n.renderSlot)(t.$slots,"dot",{},function(){return[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(a.handleClasses),style:(0,n.normalizeStyle)(r.dotStyle)},null,6)]}),r.tooltip!=="none"?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)(a.tooltipClasses)},[(0,n.renderSlot)(t.$slots,"tooltip",{},function(){return[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(a.tooltipInnerClasses),style:(0,n.normalizeStyle)(r.tooltipStyle)},[(0,n.createElementVNode)("span",Z,(0,n.toDisplayString)(a.tooltipValue),1)],6)]})],2)):(0,n.createCommentVNode)("",!0)],42,V)}y(619);var S={emits:["drag-start"],props:{value:{type:[Number,String],default:0},tooltip:{type:String,required:!0},dotStyle:{type:Array,default:function(){return{}}},tooltipStyle:{type:Array,default:function(){return{}}},tooltipPlacement:{type:String,required:!0},tooltipFormatter:{type:[String,Array,Object,Function],default:void 0},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{dotClasses:function(){return["vue-slider-dot",{"vue-slider-dot-hover":this.tooltip==="hover"||this.tooltip==="active","vue-slider-dot-disabled":this.disabled,"vue-slider-dot-focus":this.focus}]},handleClasses:function(){return["vue-slider-dot-handle",{"vue-slider-dot-handle-disabled":this.disabled,"vue-slider-dot-handle-focus":this.focus}]},tooltipClasses:function(){return["vue-slider-dot-tooltip",["vue-slider-dot-tooltip-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-show":this.showTooltip}]},tooltipInnerClasses:function(){return["vue-slider-dot-tooltip-inner",["vue-slider-dot-tooltip-inner-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-inner-disabled":this.disabled,"vue-slider-dot-tooltip-inner-focus":this.focus}]},showTooltip:function(){switch(this.tooltip){case"always":return!0;case"none":return!1;case"focus":case"active":return!!this.focus;default:return!1}},tooltipValue:function(){return this.tooltipFormatter?typeof this.tooltipFormatter=="string"?this.tooltipFormatter.replace(/\{value\}/,String(this.value)):this.tooltipFormatter(this.value):this.value}},methods:{dragStart:function(t){if(this.disabled)return!1;this.$emit("drag-start")}}},Y=y(118),G=(0,Y.Z)(S,[["render",H]]);function v(t,e,r,o,i,a){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(a.marksClasses)},[(0,n.renderSlot)(t.$slots,"step",{},function(){return[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(a.stepClasses),style:(0,n.normalizeStyle)([r.stepStyle,r.mark.style,r.mark.active?r.stepActiveStyle:null,r.mark.active?r.mark.activeStyle:null])},null,6)]}),r.hideLabel?(0,n.createCommentVNode)("",!0):(0,n.renderSlot)(t.$slots,"label",{key:0},function(){return[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(a.labelClasses),style:(0,n.normalizeStyle)([r.labelStyle,r.mark.labelStyle,r.mark.active?r.labelActiveStyle:null,r.mark.active?r.mark.labelActiveStyle:null]),onClick:e[0]||(e[0]=function(){return a.labelClickHandle&&a.labelClickHandle.apply(a,arguments)})},(0,n.toDisplayString)(r.mark.label),7)]})],2)}y(642);var s={props:{mark:{type:Object,required:!0},hideLabel:{type:Boolean,default:!1},stepStyle:{type:Object,default:void 0},stepActiveStyle:{type:Object,default:void 0},labelStyle:{type:Object,default:void 0},labelActiveStyle:{type:Object,default:void 0}},computed:{marksClasses:function(){return["vue-slider-mark",{"vue-slider-mark-active":this.mark.active}]},stepClasses:function(){return["vue-slider-mark-step",{"vue-slider-mark-step-active":this.mark.active}]},labelClasses:function(){return["vue-slider-mark-label",{"vue-slider-mark-label-active":this.mark.active}]}},methods:{labelClickHandle:function(t){t.stopPropagation(),this.$emit("pressLabel",this.mark.pos)}}};const c=(0,Y.Z)(s,[["render",v]]);var d,I=c,h=function(t){return typeof t=="number"?"".concat(t,"px"):t},O=function(t){var e=document.documentElement,r=document.body,o=t.getBoundingClientRect(),i={y:o.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||r.clientTop||0),x:o.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||r.clientLeft||0)};return i},D=function(t,e,r){var o="targetTouches"in t?t.targetTouches[0]:t,i=O(e),a={x:o.pageX-i.x,y:o.pageY-i.y};return{x:r?e.offsetWidth-a.x:a.x,y:r?e.offsetHeight-a.y:a.y}};(function(t){t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN"})(d||(d={}));var w=function(t,e){if(e.hook){var r=e.hook(t);if(typeof r=="function")return r;if(!r)return null}switch(t.keyCode){case d.UP:return function(o){return e.direction==="ttb"?o-1:o+1};case d.RIGHT:return function(o){return e.direction==="rtl"?o-1:o+1};case d.DOWN:return function(o){return e.direction==="ttb"?o+1:o-1};case d.LEFT:return function(o){return e.direction==="rtl"?o+1:o-1};case d.END:return function(){return e.max};case d.HOME:return function(){return e.min};case d.PAGE_UP:return function(o){return o+10};case d.PAGE_DOWN:return function(o){return o-10};default:return null}};function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function W(t,e,r){return e&&B(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ee,A,z=function(){function t(e){k(this,t),Q(this,"num",void 0),this.num=e}return W(t,[{key:"decimal",value:function(e,r){var o=this.num,i=this.getDecimalLen(o),a=this.getDecimalLen(e),b=0;switch(r){case"+":b=this.getExponent(i,a),this.num=(this.safeRoundUp(o,b)+this.safeRoundUp(e,b))/b;break;case"-":b=this.getExponent(i,a),this.num=(this.safeRoundUp(o,b)-this.safeRoundUp(e,b))/b;break;case"*":this.num=this.safeRoundUp(this.safeRoundUp(o,this.getExponent(i)),this.safeRoundUp(e,this.getExponent(a)))/this.getExponent(i+a);break;case"/":b=this.getExponent(i,a),this.num=this.safeRoundUp(o,b)/this.safeRoundUp(e,b);break;case"%":b=this.getExponent(i,a),this.num=this.safeRoundUp(o,b)%this.safeRoundUp(e,b)/b;break}return this}},{key:"plus",value:function(e){return this.decimal(e,"+")}},{key:"minus",value:function(e){return this.decimal(e,"-")}},{key:"multiply",value:function(e){return this.decimal(e,"*")}},{key:"divide",value:function(e){return this.decimal(e,"/")}},{key:"remainder",value:function(e){return this.decimal(e,"%")}},{key:"toNumber",value:function(){return this.num}},{key:"getDecimalLen",value:function(e){var r="".concat(e).split("e");return("".concat(r[0]).split(".")[1]||"").length-(r[1]?+r[1]:0)}},{key:"getExponent",value:function(e,r){return Math.pow(10,r!==void 0?Math.max(e,r):e)}},{key:"safeRoundUp",value:function(e,r){return Math.round(e*r)}}]),t}();function Ke(t,e){return Je(t)||Ze(t,e)||Ce(t,e)||Ye()}function Ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var o,i,a=[],b=!0,L=!1;try{for(r=r.call(t);!(b=(o=r.next()).done)&&(a.push(o.value),!(e&&a.length===e));b=!0);}catch(q){L=!0,i=q}finally{try{b||r.return==null||r.return()}finally{if(L)throw i}}return a}}function Je(t){if(Array.isArray(t))return t}function Ve(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,o)}return r}function Qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ve(Object(r),!0).forEach(function(o){C(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function ie(t){return rt(t)||tt(t)||Ce(t)||et()}function et(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ce(t,e){if(t){if(typeof t=="string")return be(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(t,e):void 0}}function tt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rt(t){if(Array.isArray(t))return be(t)}function be(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function at(t,e,r){return e&&nt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}(function(t){t[t.VALUE=1]="VALUE",t[t.INTERVAL=2]="INTERVAL",t[t.MIN=3]="MIN",t[t.MAX=4]="MAX",t[t.ORDER=5]="ORDER"})(A||(A={}));var it=(ee={},C(ee,A.VALUE,'The type of the "value" is illegal'),C(ee,A.INTERVAL,'The prop "interval" is invalid, "(max - min)" must be divisible by "interval"'),C(ee,A.MIN,'The "value" must be greater than or equal to the "min".'),C(ee,A.MAX,'The "value" must be less than or equal to the "max".'),C(ee,A.ORDER,'When "order" is false, the parameters "minRange", "maxRange", "fixed", "enabled" are invalid.'),ee),st=function(){function t(e){ot(this,t),C(this,"dotsPos",[]),C(this,"dotsValue",[]),C(this,"data",void 0),C(this,"enableCross",void 0),C(this,"fixed",void 0),C(this,"max",void 0),C(this,"min",void 0),C(this,"interval",void 0),C(this,"minRange",void 0),C(this,"maxRange",void 0),C(this,"order",void 0),C(this,"marks",void 0),C(this,"included",void 0),C(this,"process",void 0),C(this,"adsorb",void 0),C(this,"dotOptions",void 0),C(this,"onError",void 0),C(this,"cacheRangeDir",{}),this.data=e.data,this.max=e.max,this.min=e.min,this.interval=e.interval,this.order=e.order,this.marks=e.marks,this.included=e.included,this.process=e.process,this.adsorb=e.adsorb,this.dotOptions=e.dotOptions,this.onError=e.onError,this.order?(this.minRange=e.minRange||0,this.maxRange=e.maxRange||0,this.enableCross=e.enableCross,this.fixed=e.fixed):((e.minRange||e.maxRange||!e.enableCross||e.fixed)&&this.emitError(A.ORDER),this.minRange=0,this.maxRange=0,this.enableCross=!0,this.fixed=!1),this.setValue(e.value)}return at(t,[{key:"setValue",value:function(e){var r=this;this.setDotsValue(Array.isArray(e)?this.order?ie(e).sort(function(o,i){return r.getIndexByValue(o)-r.getIndexByValue(i)}):ie(e):[e],!0)}},{key:"setDotsValue",value:function(e,r){this.dotsValue=e,r&&this.syncDotsPos()}},{key:"setDotsPos",value:function(e){var r=this,o=this.order?ie(e).sort(function(i,a){return i-a}):e;this.dotsPos=o,this.setDotsValue(o.map(function(i){return r.getValueByPos(i)}),this.adsorb)}},{key:"getValueByPos",value:function(e){var r=this.parsePos(e);if(this.included){var o=100;this.markList.forEach(function(i){var a=Math.abs(i.pos-e);a<o&&(o=a,r=i.value)})}return r}},{key:"syncDotsPos",value:function(){var e=this;this.dotsPos=this.dotsValue.map(function(r){return e.parseValue(r)})}},{key:"markList",get:function(){var e=this;if(!this.marks)return[];var r=function(o,i){var a=e.parseValue(o);return Qe({pos:a,value:o,label:o,active:e.isActiveByPos(a)},i)};return this.marks===!0?this.getValues().map(function(o){return r(o)}):Object.prototype.toString.call(this.marks)==="[object Object]"?Object.keys(this.marks).sort(function(o,i){return+o-+i}).map(function(o){var i=e.marks[o];return r(o,typeof i!="string"?i:{label:i})}):Array.isArray(this.marks)?this.marks.map(function(o){return r(o)}):typeof this.marks=="function"?this.getValues().map(function(o){return{value:o,result:e.marks(o)}}).filter(function(o){var i=o.result;return!!i}).map(function(o){var i=o.value,a=o.result;return r(i,a)}):[]}},{key:"getRecentDot",value:function(e){var r=this,o=this.dotsPos.filter(function(i,a){return!(r.getDotOption(a)&&r.getDotOption(a).disabled)}).map(function(i){return Math.abs(i-e)});return o.indexOf(Math.min.apply(Math,ie(o)))}},{key:"getIndexByValue",value:function(e){return this.data?this.data.indexOf(e):new z(+e).minus(this.min).divide(this.interval).toNumber()}},{key:"getValueByIndex",value:function(e){return e<0?e=0:e>this.total&&(e=this.total),this.data?this.data[e]:new z(e).multiply(this.interval).plus(this.min).toNumber()}},{key:"setDotPos",value:function(e,r){e=this.getValidPos(e,r).pos;var o=e-this.dotsPos[r];if(o){var i=new Array(this.dotsPos.length);this.fixed?i=this.getFixedChangePosArr(o,r):this.minRange||this.maxRange?i=this.getLimitRangeChangePosArr(e,o,r):i[r]=o,this.setDotsPos(this.dotsPos.map(function(a,b){return a+(i[b]||0)}))}}},{key:"getFixedChangePosArr",value:function(e,r){var o=this;return this.dotsPos.forEach(function(i,a){if(a!==r){var b=o.getValidPos(i+e,a),L=b.pos,q=b.inRange;q||(e=Math.min(Math.abs(L-i),Math.abs(e))*(e<0?-1:1))}}),this.dotsPos.map(function(i){return e})}},{key:"getLimitRangeChangePosArr",value:function(e,r,o){var i=this,a=[{index:o,changePos:r}],b=r;return[this.minRange,this.maxRange].forEach(function(L,q){if(!L)return!1;var x=q===0,X=r>0,K=0;K=x?X?1:-1:X?-1:1;for(var Oe=function(St,wt){var Ie=Math.abs(St-wt);return x?Ie<i.minRangeDir:Ie>i.maxRangeDir},se=o+K,le=i.dotsPos[se],Be=e;i.isPos(le)&&Oe(le,Be);){var xt=i.getValidPos(le+b,se),Me=xt.pos;a.push({index:se,changePos:Me-le}),se+=K,Be=Me,le=i.dotsPos[se]}}),this.dotsPos.map(function(L,q){var x=a.filter(function(X){return X.index===q});return x.length?x[0].changePos:0})}},{key:"isPos",value:function(e){return typeof e=="number"}},{key:"getValidPos",value:function(e,r){var o=this.valuePosRange[r],i=!0;return e<o[0]?(e=o[0],i=!1):e>o[1]&&(e=o[1],i=!1),{pos:e,inRange:i}}},{key:"parseValue",value:function(e){if(this.data)e=this.data.indexOf(e);else if(typeof e=="number"||typeof e=="string"){if(e=+e,e<this.min)return this.emitError(A.MIN),0;if(e>this.max)return this.emitError(A.MAX),0;if(typeof e!="number"||e!==e)return this.emitError(A.VALUE),0;e=new z(e).minus(this.min).divide(this.interval).toNumber()}var r=new z(e).multiply(this.gap).toNumber();return r<0?0:r>100?100:r}},{key:"parsePos",value:function(e){var r=Math.round(e/this.gap);return this.getValueByIndex(r)}},{key:"isActiveByPos",value:function(e){return this.processArray.some(function(r){var o=Ke(r,2),i=o[0],a=o[1];return e>=i&&e<=a})}},{key:"getValues",value:function(){if(this.data)return this.data;for(var e=[],r=0;r<=this.total;r++)e.push(new z(r).multiply(this.interval).plus(this.min).toNumber());return e}},{key:"getRangeDir",value:function(e){return e?new z(e).divide(new z(this.data?this.data.length-1:this.max).minus(this.data?0:this.min).toNumber()).multiply(100).toNumber():100}},{key:"emitError",value:function(e){this.onError&&this.onError(e,it[e])}},{key:"processArray",get:function(){if(this.process){if(typeof this.process=="function")return this.process(this.dotsPos);if(this.dotsPos.length===1)return[[0,this.dotsPos[0]]];if(this.dotsPos.length>1)return[[Math.min.apply(Math,ie(this.dotsPos)),Math.max.apply(Math,ie(this.dotsPos))]]}return[]}},{key:"total",get:function(){var e=0;return e=this.data?this.data.length-1:new z(this.max).minus(this.min).divide(this.interval).toNumber(),e-Math.floor(e)!==0?(this.emitError(A.INTERVAL),0):e}},{key:"gap",get:function(){return 100/this.total}},{key:"minRangeDir",get:function(){return this.cacheRangeDir[this.minRange]?this.cacheRangeDir[this.minRange]:this.cacheRangeDir[this.minRange]=this.getRangeDir(this.minRange)}},{key:"maxRangeDir",get:function(){return this.cacheRangeDir[this.maxRange]?this.cacheRangeDir[this.maxRange]:this.cacheRangeDir[this.maxRange]=this.getRangeDir(this.maxRange)}},{key:"getDotOption",value:function(e){return Array.isArray(this.dotOptions)?this.dotOptions[e]:this.dotOptions}},{key:"getDotRange",value:function(e,r,o){if(!this.dotOptions)return o;var i=this.getDotOption(e);return i&&i[r]!==void 0?this.parseValue(i[r]):o}},{key:"valuePosRange",get:function(){var e=this,r=this.dotsPos,o=[];return r.forEach(function(i,a){o.push([Math.max(e.minRange?e.minRangeDir*a:0,e.enableCross?0:r[a-1]||0,e.getDotRange(a,"min",0)),Math.min(e.minRange?100-e.minRangeDir*(r.length-1-a):100,e.enableCross?100:r[a+1]||100,e.getDotRange(a,"max",100))])}),o}},{key:"dotsIndex",get:function(){var e=this;return this.dotsValue.map(function(r){return e.getIndexByValue(r)})}}]),t}();function lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ut(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ct(t,e,r){return e&&ut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ae(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var dt=function(){function t(e){lt(this,t),Ae(this,"map",void 0),Ae(this,"states",0),this.map=e}return ct(t,[{key:"add",value:function(e){this.states|=e}},{key:"delete",value:function(e){this.states&=~e}},{key:"toggle",value:function(e){this.has(e)?this.delete(e):this.add(e)}},{key:"has",value:function(e){return!!(this.states&e)}}]),t}();y(112),y(362);function ge(t){return ht(t)||pt(t)||_e(t)||ft()}function ft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ht(t){if(Array.isArray(t))return Se(t)}function ke(t){return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(t)}function Te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,o)}return r}function he(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Te(Object(r),!0).forEach(function(o){re(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function re(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xe(t,e){return yt(t)||vt(t,e)||_e(t,e)||mt()}function mt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _e(t,e){if(t){if(typeof t=="string")return Se(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Se(t,e):void 0}}function Se(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function vt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var o,i,a=[],b=!0,L=!1;try{for(r=r.call(t);!(b=(o=r.next()).done)&&(a.push(o.value),!(e&&a.length===e));b=!0);}catch(q){L=!0,i=q}finally{try{b||r.return==null||r.return()}finally{if(L)throw i}}return a}}function yt(t){if(Array.isArray(t))return t}var we=4,N={None:0,Drag:2,Focus:4},bt={emits:["update:modelValue","change","drag-start","drag-end","dragging","error"],components:{VueSliderDot:G,VueSliderMark:I},props:{modelValue:{type:[Number,String,Array],default:0},silent:{type:Boolean,default:!1},direction:{type:String,default:"ltr",validator:function(t){return["ltr","rtl","ttb","btt"].indexOf(t)>-1}},width:{type:[Number,String],default:void 0},height:{type:[Number,String],default:void 0},dotSize:{type:[Array,Number],default:14},contained:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},dragOnClick:{type:Boolean,default:!0},duration:{type:Number,default:.5},data:{type:[Object,Array],default:void 0},dataValue:{type:String,default:"value"},dataLabel:{type:String,default:"label"},lazy:{type:Boolean,default:!1},tooltip:{type:String,default:"active",validator:function(t){return["none","always","focus","hover","active"].indexOf(t)>-1}},tooltipPlacement:{type:[String,Array],default:void 0,validator:function(t){return(Array.isArray(t)?t:[t]).every(function(e){return["top","right","bottom","left"].indexOf(e)>-1})}},tooltipFormatter:{type:[String,Array,Function],default:""},useKeyboard:{type:Boolean,default:!0},keydownHook:{type:[Boolean,Function],default:void 0},enableCross:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},order:{type:Boolean,default:!0},minRange:{type:Number,default:void 0},maxRange:{type:Number,default:void 0},marks:{type:[Boolean,Object,Array,Function],default:!1},process:{type:[Boolean,Function],default:!0},zoom:{type:[Number],default:void 0},included:{type:[Boolean],default:!1},adsorb:{type:[Boolean],default:!1},hideLabel:{type:[Boolean],default:!1},dotOptions:{type:Object,default:void 0},dotAttrs:{type:Object,default:void 0},railStyle:{type:Object,default:null},processStyle:{type:Object,default:null},dotStyle:{type:Object,default:null},tooltipStyle:{type:Object,default:null},stepStyle:{type:Object,default:null},stepActiveStyle:{type:Object,default:null},labelStyle:{type:Object,default:null},labelActiveStyle:{type:Object,default:null}},data:function(){return{control:null,states:new dt(N),scale:1,focusDotIndex:0}},computed:{tailSize:function(){return h((this.isHorizontal?this.height:this.width)||we)},containerClasses:function(){return["vue-slider",["vue-slider-".concat(this.direction)],{"vue-slider-disabled":this.disabled}]},containerStyles:function(){var t=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],e=xe(t,2),r=e[0],o=e[1],i=this.width?h(this.width):this.isHorizontal?"auto":h(we),a=this.height?h(this.height):this.isHorizontal?h(we):"auto";return{padding:this.contained?"".concat(o/2,"px ").concat(r/2,"px"):this.isHorizontal?"".concat(o/2,"px 0"):"0 ".concat(r/2,"px"),width:i,height:a}},processArray:function(){var t=this;return this.control.processArray.map(function(e,r){var o,i=xe(e,3),a=i[0],b=i[1],L=i[2];if(a>b){var q=[b,a];a=q[0],b=q[1]}var x=t.isHorizontal?"width":"height";return{start:a,end:b,index:r,style:he(he((o={},re(o,t.isHorizontal?"height":"width","100%"),re(o,t.isHorizontal?"top":"left",0),re(o,t.mainDirection,"".concat(a,"%")),re(o,x,"".concat(b-a,"%")),re(o,"transitionProperty","".concat(x,",").concat(t.mainDirection)),re(o,"transitionDuration","".concat(t.animateTime,"s")),o),t.processStyle),L)}})},dotBaseStyle:function(){var t,e=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],r=xe(e,2),o=r[0],i=r[1];return t=this.isHorizontal?re({transform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),"-WebkitTransform":"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),top:"50%"},this.direction==="ltr"?"left":"right","0"):re({transform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),"-WebkitTransform":"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),left:"50%"},this.direction==="btt"?"bottom":"top","0"),he({width:"".concat(o,"px"),height:"".concat(i,"px")},t)},mainDirection:function(){switch(this.direction){case"ltr":return"left";case"rtl":return"right";case"btt":return"bottom";case"ttb":return"top"}},isHorizontal:function(){return this.direction==="ltr"||this.direction==="rtl"},isReverse:function(){return this.direction==="rtl"||this.direction==="btt"},tooltipDirections:function(){var t=this.tooltipPlacement||(this.isHorizontal?"top":"left");return Array.isArray(t)?t:this.dots.map(function(){return t})},dots:function(){var t=this;return this.control.dotsPos.map(function(e,r){return he({pos:e,index:r,value:t.control.dotsValue[r],focus:t.states.has(N.Focus)&&t.focusDotIndex===r,disabled:t.disabled,style:t.dotStyle},(Array.isArray(t.dotOptions)?t.dotOptions[r]:t.dotOptions)||{})})},animateTime:function(){return this.states.has(N.Drag)?0:this.duration},canSort:function(){return this.order&&!this.minRange&&!this.maxRange&&!this.fixed&&this.enableCross},sliderData:function(){var t=this;return this.isObjectArrayData(this.data)?this.data.map(function(e){return e[t.dataValue]}):this.isObjectData(this.data)?Object.keys(this.data):this.data},sliderMarks:function(){var t=this;return this.marks?this.marks:this.isObjectArrayData(this.data)?function(e){var r={label:e};return t.data.some(function(o){return o[t.dataValue]===e&&(r.label=o[t.dataLabel],!0)}),r}:this.isObjectData(this.data)?this.data:void 0},sliderTooltipFormatter:function(){var t=this;if(this.tooltipFormatter)return this.tooltipFormatter;if(this.isObjectArrayData(this.data))return function(r){var o=""+r;return t.data.some(function(i){return i[t.dataValue]===r&&(o=i[t.dataLabel],!0)}),o};if(this.isObjectData(this.data)){var e=this.data;return function(r){return e[r]}}},isNotSync:function(){var t=this.control.dotsValue;return Array.isArray(this.modelValue)?this.modelValue.length!==t.length||this.modelValue.some(function(e,r){return e!==t[r]}):this.modelValue!==t[0]},dragRange:function(){var t=this.dots[this.focusDotIndex-1],e=this.dots[this.focusDotIndex+1];return[t?t.pos:-1/0,e?e.pos:1/0]}},created:function(){this.initControl()},mounted:function(){this.bindEvent()},beforeUnmount:function(){this.unbindEvent()},methods:{isObjectData:function(t){return!!t&&Object.prototype.toString.call(t)==="[object Object]"},isObjectArrayData:function(t){return!!t&&Array.isArray(t)&&t.length>0&&ke(t[0])==="object"},bindEvent:function(){document.addEventListener("touchmove",this.dragMove,{passive:!1}),document.addEventListener("touchend",this.dragEnd,{passive:!1}),document.addEventListener("mousedown",this.blurHandle),document.addEventListener("mousemove",this.dragMove,{passive:!1}),document.addEventListener("mouseup",this.dragEnd),document.addEventListener("mouseleave",this.dragEnd),document.addEventListener("keydown",this.keydownHandle)},unbindEvent:function(){document.removeEventListener("touchmove",this.dragMove),document.removeEventListener("touchend",this.dragEnd),document.removeEventListener("mousedown",this.blurHandle),document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd),document.removeEventListener("mouseleave",this.dragEnd),document.removeEventListener("keydown",this.keydownHandle)},setScale:function(){var t=new z(Math.floor(this.isHorizontal?this.$refs.rail.offsetWidth:this.$refs.rail.offsetHeight));this.zoom!==void 0&&t.multiply(this.zoom),t.divide(100),this.scale=t.toNumber()},initControl:function(){var t=this;this.control=new st({value:this.modelValue,data:this.sliderData,enableCross:this.enableCross,fixed:this.fixed,max:this.max,min:this.min,interval:this.interval,minRange:this.minRange,maxRange:this.maxRange,order:this.order,marks:this.sliderMarks,included:this.included,process:this.process,adsorb:this.adsorb,dotOptions:this.dotOptions,onError:this.emitError}),this.syncValueByPos(),["data","enableCross","fixed","max","min","interval","minRange","maxRange","order","marks","process","adsorb","included","dotOptions"].forEach(function(e){t.$watch(e,function(r){if(e==="data"&&Array.isArray(t.control.data)&&Array.isArray(r)&&t.control.data.length===r.length&&r.every(function(o,i){return o===t.control.data[i]}))return!1;switch(e){case"data":case"dataLabel":case"dataValue":t.control.data=t.sliderData;break;case"mark":t.control.marks=t.sliderMarks;break;default:t.control[e]=r}["data","max","min","interval"].indexOf(e)>-1&&t.control.syncDotsPos()})})},syncValueByPos:function(){var t=this.control.dotsValue;if(this.isDiff(t,Array.isArray(this.modelValue)?this.modelValue:[this.modelValue])){var e=t.length===1?t[0]:ge(t);this.$emit("change",e,this.focusDotIndex),this.$emit("update:modelValue",e,this.focusDotIndex)}},isDiff:function(t,e){return t.length!==e.length||t.some(function(r,o){return r!==e[o]})},emitError:function(t,e){this.silent||console.error("[VueSlider error]: ".concat(e)),this.$emit("error",t,e)},dragStartOnProcess:function(t){if(this.dragOnClick){this.setScale();var e=this.getPosByEvent(t),r=this.control.getRecentDot(e);if(this.dots[r].disabled)return;this.dragStart(r),this.control.setDotPos(e,this.focusDotIndex),this.lazy||this.syncValueByPos()}},dragStart:function(t){this.focusDotIndex=t,this.setScale(),this.states.add(N.Drag),this.states.add(N.Focus),this.$emit("drag-start",this.focusDotIndex)},dragMove:function(t){if(!this.states.has(N.Drag))return!1;t.preventDefault();var e=this.getPosByEvent(t);this.isCrossDot(e),this.control.setDotPos(e,this.focusDotIndex),this.lazy||this.syncValueByPos();var r=this.control.dotsValue;this.$emit("dragging",r.length===1?r[0]:ge(r),this.focusDotIndex)},isCrossDot:function(t){if(this.canSort){var e=this.focusDotIndex,r=t;if(r>this.dragRange[1]?(r=this.dragRange[1],this.focusDotIndex++):r<this.dragRange[0]&&(r=this.dragRange[0],this.focusDotIndex--),e!==this.focusDotIndex){var o=this.$refs["dot-".concat(this.focusDotIndex)];o&&o.$el&&o.$el.focus(),this.control.setDotPos(r,e)}}},dragEnd:function(t){var e=this;if(!this.states.has(N.Drag))return!1;setTimeout(function(){e.lazy&&e.syncValueByPos(),e.included&&e.isNotSync?e.control.setValue(e.modelValue):e.control.syncDotsPos(),e.states.delete(N.Drag),e.useKeyboard&&!("targetTouches"in t)||e.states.delete(N.Focus),e.$emit("drag-end",e.focusDotIndex)})},blurHandle:function(t){if(!this.states.has(N.Focus)||!this.$refs.container||this.$refs.container.contains(t.target))return!1;this.states.delete(N.Focus)},clickHandle:function(t){if(!this.clickable||this.disabled)return!1;if(!this.states.has(N.Drag)){this.setScale();var e=this.getPosByEvent(t);this.setValueByPos(e)}},focus:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.states.add(N.Focus),this.focusDotIndex=t},blur:function(){this.states.delete(N.Focus)},getValue:function(){var t=this.control.dotsValue;return t.length===1?t[0]:t},getIndex:function(){var t=this.control.dotsIndex;return t.length===1?t[0]:t},setValue:function(t){this.control.setValue(Array.isArray(t)?ge(t):[t]),this.syncValueByPos()},setIndex:function(t){var e=this,r=Array.isArray(t)?t.map(function(o){return e.control.getValueByIndex(o)}):this.control.getValueByIndex(t);this.setValue(r)},setValueByPos:function(t){var e=this,r=this.control.getRecentDot(t);if(this.disabled||this.dots[r].disabled)return!1;this.focusDotIndex=r,this.control.setDotPos(t,r),this.syncValueByPos(),this.useKeyboard&&this.states.add(N.Focus),setTimeout(function(){e.included&&e.isNotSync?e.control.setValue(e.modelValue):e.control.syncDotsPos()})},keydownHandle:function(t){var e=this;if(!this.useKeyboard||!this.states.has(N.Focus))return!1;var r=this.included&&this.marks,o=w(t,{direction:this.direction,max:r?this.control.markList.length-1:this.control.total,min:0,hook:this.keydownHook});if(o){t.preventDefault();var i=-1,a=0;r?(this.control.markList.some(function(b,L){return b.value===e.control.dotsValue[e.focusDotIndex]&&(i=o(L),!0)}),i<0?i=0:i>this.control.markList.length-1&&(i=this.control.markList.length-1),a=this.control.markList[i].pos):(i=o(this.control.getIndexByValue(this.control.dotsValue[this.focusDotIndex])),a=this.control.parseValue(this.control.getValueByIndex(i))),this.isCrossDot(a),this.control.setDotPos(a,this.focusDotIndex),this.syncValueByPos()}},getPosByEvent:function(t){return D(t,this.$refs.rail,this.isReverse)[this.isHorizontal?"x":"y"]/this.scale}},watch:{modelValue:function(){this.control&&!this.states.has(N.Drag)&&this.isNotSync&&(this.control.setValue(this.modelValue),this.syncValueByPos())}}},Pe=(0,Y.Z)(bt,[["render",F]]);Pe.VueSliderMark=I,Pe.VueSliderDot=G;var gt=Pe,kt=gt}(),J}()})})(Xe);var ln=Xe.exports;const un=nn(ln),cn=R=>(Re("data-v-7f651722"),R=R(),Ee(),R),dn={class:"timeline-container"},fn={key:0,class:"time-range"},pn={key:1,class:"timeline-buttons"},hn={key:2,class:"timeline"},mn=["onClick"],vn=["src","alt"],yn={class:"tooltip"},bn={class:"frame-details"},gn=cn(()=>T("label",{for:"weight-{{frame.frameNumber}}"},"Weight:",-1)),kn=["onUpdate:modelValue","onInput"],xn={key:3,class:"timeline-buttons"},Sn=ye({__name:"TimelineComponent",props:{projectId:{},fps:{},videoDuration:{},showTimeline:{type:Boolean},loadThumbnailsTrigger:{}},emits:["videoPositionUpdate","sendFrames"],setup(R,{emit:te}){const p=R;pe([()=>p.videoDuration],([s])=>{s>0&&(u.value=[u.value[0],s]),v()}),pe(()=>p.loadThumbnailsTrigger,(s,c)=>{p.projectId&&p.fps>0&&p.videoDuration>0&&v()});const _=M([]),j=M([]),y=M([]),J=M(null),u=M([0,p.videoDuration]),m=te,l=()=>{y.value=[]},n=(s,c)=>{c.shiftKey&&J.value!==null?g(s):(f(s),J.value=s)},f=s=>{V(s)?H(s):y.value.push(s)},g=s=>{var w;const c=F((w=J.value)==null?void 0:w.frameNumber),d=F(s.frameNumber),[I,h]=E(c,d),O=j.value.slice(I,h+1),D=P(O);O.forEach(k=>{D?H(k):Z(k)})},P=s=>s.every(c=>V(c)),E=(s,c)=>s<c?[s,c]:[c,s],F=s=>j.value.findIndex(c=>c.frameNumber===s),V=s=>y.value.some(c=>c.frameNumber===s.frameNumber),Z=s=>{V(s)||y.value.push(s)},H=s=>{const c=y.value.findIndex(d=>d.frameNumber===s.frameNumber);c!==-1&&y.value.splice(c,1)},S=()=>{const c=_.value.filter(d=>!y.value.includes(d)).map(d=>({frame_number:d.frameNumber,frame_weight:d.weight}));m("sendFrames",c)},Y=s=>{const c=j.value.findIndex(d=>d.frameNumber===s.frameNumber);c!==-1&&(j.value[c].weight=s.weight)},ae=(s,c)=>{u.value=s,c===0?m("videoPositionUpdate",s[0]):m("videoPositionUpdate",s[1]);const[d,I]=s,h=Math.ceil(d*(p.fps||0)),O=Math.ceil(I*(p.fps||0))>0?Math.ceil(I*(p.fps||0)):1;j.value=_.value.slice(h,O)},G=s=>{const c=Math.floor(s/60),d=Math.floor(s%60);return`${c}:${d<10?"0":""}${d}`},v=()=>{if(!p.projectId||!p.fps)return;const s=[];for(let c=1;c<=Math.ceil(p.videoDuration*p.fps);c++)s.push({src:qe(ue.frameThumbnail(p.projectId,c)),frameNumber:c,time:(c/p.fps).toFixed(2),weight:1});_.value=s,j.value=s};return(s,c)=>($(),U("div",dn,[s.videoDuration>0&&p.showTimeline?($(),U("div",fn,[me(" Time frame: "),T("span",null,oe(G(0))+" - "+oe(G(s.videoDuration)),1),ce(We(un),{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=d=>u.value=d),min:0,max:s.videoDuration,tooltip:"always",onChange:ae},null,8,["modelValue","max"])])):ne("",!0),p.showTimeline&&_.value.length>0?($(),U("div",pn,[T("button",{onClick:l},"Unselect All Frames"),T("button",{onClick:S},"Send Unselected Frames for Image Generation")])):ne("",!0),p.showTimeline?($(),U("div",hn,[($(!0),U(Fe,null,$e(j.value,d=>($(),U("div",{key:d.frameNumber,class:Le(["timeline-item",{selected:V(d)}]),onClick:I=>n(d,I)},[T("img",{src:d.src,loading:"lazy",alt:"Frame "+d.frameNumber},null,8,vn),T("div",yn,oe("Frame: "+d.frameNumber+", Time: "+d.time+"s"),1),T("div",bn,[gn,fe(T("input",{type:"number","onUpdate:modelValue":I=>d.weight=I,min:"0",step:"0.1",id:"weight-{{frame.frameNumber}}",onInput:I=>Y(d),onClick:c[1]||(c[1]=ve(()=>{},["stop"])),onMousedown:c[2]||(c[2]=ve(()=>{},["stop"]))},null,40,kn),[[de,d.weight,void 0,{number:!0}]])])],10,mn))),128))])):ne("",!0),p.showTimeline&&_.value.length>0?($(),U("div",xn,[T("button",{onClick:l},"Unselect All Frames"),T("button",{onClick:S},"Send Unselected Frames for Image Generation")])):ne("",!0)]))}}),wn=je(Sn,[["__scopeId","data-v-7f651722"]]),Pn=R=>(Re("data-v-bfbcbcb0"),R=R(),Ee(),R),On=["required"],Dn={type:"submit"},En={key:0,class:"progress"},Rn={key:0},jn={key:1},Vn={key:1,class:"long-exposure-image"},Cn=Pn(()=>T("h2",null,"Long Exposure Image",-1)),An=["src"],Tn=ye({__name:"ProjectEditor",props:{projectId:{}},setup(R){const p=M(R.projectId??null),_=M(""),j=M(null),y=M(""),J=M(""),u=ze(()=>y.value!=""?y.value:J.value),m=M(0),l=M(""),n=M(0),f=M(!0),g=M(1),P=M(0),E=M(0),F=M(!1),V=M(null),Z=v=>{const s=v.target;s.files&&s.files.length>0&&(j.value=s.files[0],y.value=URL.createObjectURL(j.value),H())},H=()=>{V.value=null,p.value=null},S=async()=>{if(!j.value&&!p.value||!n.value){console.error("Missing required fields");return}F.value=!0;const v=new FormData;p.value&&(console.log("Project id is :"+p.value),v.append("project_id",p.value)),j.value&&v.append("video_file",j.value),l.value||(l.value="1600:-1"),v.append("scale",l.value),v.append("fps",n.value.toString()),v.append("project_name",_.value);try{const s=await Zo(ue.projects,v,h=>{E.value=h}),c=s.data,d=s.status;console.log(c.message+` status: ${d}`),p.value=c.project_id;const I=`/projects/${p.value}`;history.replaceState(history.state,"",I),g.value+=1}catch(s){console.error("Error uploading video:",s)}finally{F.value=!1,E.value=0}},Y=v=>{m.value=v},ae=async v=>{try{if(!p.value){console.error("No video uploaded yet");return}V.value&&(console.log("Long Exposure Image was previously created deleting it."),V.value=null);const s={frames_to_include:v},{data:c,status:d}=await Ne.post(ue.createLongExposureImage(p.value),s);d===200?(console.log("Response after selecting Frames:",c),V.value=c,f.value=!1):console.error("The Backend did not respond with 200, after sending it the unselected frames.",v,c)}catch(s){console.error("Error sending selected frames:",s)}},G=async()=>{if(p.value)try{const{data:v,status:s}=await Ne.get(ue.specificProject(p.value));if(s!=200){console.error("Error fetching projectData:",{status:s,data:v});return}console.log("Data ",v),l.value=v.scale,_.value=v.project_name,n.value=v.fps,v.latest_long_exposure_image_name&&(V.value=v.latest_long_exposure_image_name,f.value=!1),J.value=qe(ue.videoFile(p.value,v.video_file_extension)),g.value+=1}catch(v){console.error("Error loading project data:",v)}};return De(()=>{G()}),(v,s)=>{const c=He("router-link");return $(),U("div",null,[T("div",null,[ce(c,{to:{name:"Projects"},class:"back-button"},{default:Ge(()=>[me(" ← Back to Project Picker ")]),_:1})]),T("form",{onSubmit:ve(S,["prevent"])},[T("input",{type:"file",onChange:Z,accept:"video/*",required:!p.value},null,40,On),fe(T("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=d=>_.value=d),placeholder:"Name for your project",required:""},null,512),[[de,_.value,void 0,{projectName:!0}]]),fe(T("input",{type:"number","onUpdate:modelValue":s[1]||(s[1]=d=>n.value=d),min:1,max:30,placeholder:"Frames per Second (f.e. 24)",required:""},null,512),[[de,n.value,void 0,{number:!0}]]),fe(T("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=d=>l.value=d),placeholder:"Scale (default, 1600:-1)"},null,512),[[de,l.value,void 0,{scale:!0}]]),T("button",Dn,oe(p.value?"Create New Frames":"Create New Project"),1),F.value?($(),U("div",En,[T("div",{class:"progress-bar",style:Ue({width:E.value+"%"})},oe(E.value)+"%",5)])):ne("",!0),T("p",null,[me("Project ID: "),p.value?($(),U("span",Rn,oe(p.value),1)):($(),U("span",jn,"Will be set after uploading the video"))])],32),ce(rn,{src:u.value,videoCurrentPlaybackTime:m.value,onDurationChange:s[3]||(s[3]=d=>P.value=d)},null,8,["src","videoCurrentPlaybackTime"]),p.value?($(),U("button",{key:0,onClick:s[4]||(s[4]=d=>f.value=!f.value)},oe(f.value?"Hide Timeline":"Show Timeline"),1)):ne("",!0),ce(wn,{videoDuration:P.value,loadThumbnailsTrigger:g.value,fps:n.value,"project-id":p.value,showTimeline:f.value,onVideoPositionUpdate:Y,onSendFrames:ae},null,8,["videoDuration","loadThumbnailsTrigger","fps","project-id","showTimeline"]),V.value?($(),U("div",Vn,[Cn,f.value?($(),U("button",{key:0,onClick:s[5]||(s[5]=d=>f.value=!f.value)},oe(f.value?"Hide Timeline":"Show Timeline"),1)):ne("",!0),T("img",{src:V.value},null,8,An)])):ne("",!0)])}}}),In=je(Tn,[["__scopeId","data-v-bfbcbcb0"]]);export{In as default};
