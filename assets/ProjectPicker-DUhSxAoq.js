import{b as a,c as i,a as t,d as v,r as j,o as g,i as d,j as p,F as w,h as $,u as P,g as k,s as x,t as y,x as b,y as S}from"./index-CL0SkqOK.js";import{_ as f,a as h,e as u}from"./_plugin-vue_export-helper-Cb3fms8D.js";const C={name:"DeleteIcon"},E={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"18px",height:"18px"},M=t("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),z=t("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},null,-1),B=[M,z];function I(c,n,l,_,e,o){return a(),i("svg",E,B)}const N=f(C,[["render",I]]),m=c=>(b("data-v-1f1eb1f7"),c=c(),S(),c),V=m(()=>t("h1",{class:"title"},"Project Picker",-1)),D={class:"new-projects"},H=m(()=>t("button",{class:"primary-button"},"Create New Project",-1)),A={class:"projects-grid"},F=["onClick"],L=["src","alt"],R={class:"project-title"},q=v({__name:"ProjectPicker",setup(c){let n=j([]);const l=async()=>{try{const{data:e,status:o}=await h.get(u.projects);if(o!==200){console.error(`Error fetching projects: Received status ${o}`);return}const r=e.projects;n.value=r}catch(e){console.error("Error fetching projects:",e)}},_=async e=>{try{n.value=n.value.filter(s=>s.id!==e);const{data:o,status:r}=await h.delete(u.specificProject(e));r!=200&&console.error(`An error occured on Server Side when trying to delete project ${e}. Status : ${r}`),console.log(o)}catch(o){console.error(`Error deleting project ${e}:`,o),await l()}};return g(()=>{l()}),(e,o)=>{const r=k("router-link");return a(),i("div",null,[t("div",null,[V,t("div",D,[d(r,{to:{name:"NewProject"}},{default:p(()=>[H]),_:1})]),t("div",A,[(a(!0),i(w,null,$(P(n),s=>(a(),i("div",{key:s.id,class:"project-card"},[t("div",{class:"delete-button",onClick:x(G=>_(s.id),["stop"])},[d(N)],8,F),d(r,{to:{name:"ProjectEditor",params:{projectId:s.id}},class:"project-link"},{default:p(()=>[t("img",{src:s.thumbnail_path,loading:"lazy",alt:"Project "+s.id,class:"project-thumbnail"},null,8,L),t("h3",R,y(s.project_name),1)]),_:2},1032,["to"])]))),128))])])])}}}),O=f(q,[["__scopeId","data-v-1f1eb1f7"]]);export{O as default};
