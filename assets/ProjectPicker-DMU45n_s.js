import{aE as n,u as i,v as t,M as v,aM as j,ax as w,I as d,bx as p,F as g,aP as P,bc as $,aR as b,bC as k,b3 as x,aI as y,aF as C}from"./index-C9T5C06N.js";import{_ as f,a as h,e as u}from"./_plugin-vue_export-helper-DVzB71Fy.js";const M={name:"DeleteIcon"},S={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"white",width:"18px",height:"18px"},E=t("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),I=t("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},null,-1),z=[E,I];function B(c,a,l,_,e,o){return n(),i("svg",S,z)}const N=f(M,[["render",B]]),m=c=>(y("data-v-1f1eb1f7"),c=c(),C(),c),V=m(()=>t("h1",{class:"title"},"Project Picker",-1)),D={class:"new-projects"},F=m(()=>t("button",{class:"primary-button"},"Create New Project",-1)),H={class:"projects-grid"},A=["onClick"],R=["src","alt"],L={class:"project-title"},q=v({__name:"ProjectPicker",setup(c){let a=j([]);const l=async()=>{try{const{data:e,status:o}=await h.get(u.projects);if(o!==200){console.error(`Error fetching projects: Received status ${o}`);return}const r=e.projects;a.value=r}catch(e){console.error("Error fetching projects:",e)}},_=async e=>{try{a.value=a.value.filter(s=>s.id!==e);const{data:o,status:r}=await h.delete(u.specificProject(e));r!=200&&console.error(`An error occured on Server Side when trying to delete project ${e}. Status : ${r}`),console.log(o)}catch(o){console.error(`Error deleting project ${e}:`,o),await l()}};return w(()=>{l()}),(e,o)=>{const r=b("router-link");return n(),i("div",null,[t("div",null,[V,t("div",D,[d(r,{to:{name:"NewProject"}},{default:p(()=>[F]),_:1})]),t("div",H,[(n(!0),i(g,null,P($(a),s=>(n(),i("div",{key:s.id,class:"project-card"},[t("div",{class:"delete-button",onClick:k(G=>_(s.id),["stop"])},[d(N)],8,A),d(r,{to:{name:"ProjectEditor",params:{projectId:s.id}},class:"project-link"},{default:p(()=>[t("img",{src:s.thumbnail_path,loading:"lazy",alt:"Project "+s.id,class:"project-thumbnail"},null,8,R),t("h3",L,x(s.project_name),1)]),_:2},1032,["to"])]))),128))])])])}}}),O=f(q,[["__scopeId","data-v-1f1eb1f7"]]);export{O as default};
